<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shipment Uploader</title>
  <style>
        body {
            font-family: sans-serif;
            margin: 2rem;
            max-width: 600px;
        }
        textarea {
            width: 100%;
            height: 100px;
        }
        button {
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            font-size: 1rem;
        }
        #response {
            margin-top: 1rem;
            white-space: pre-wrap;
            background: #f0f0f0;
            padding: 1rem;
        }
    </style>
</head>
<body>

<h2>Send Shipment Update</h2>

<textarea id="shipmentInput" placeholder="input update here"></textarea>
<br>
<button onclick="sendShipment()">Send to Server</button>
<br>

<div id="response"></div>

<pre>
format: id, timestamp, status

types:
standard
express (< 3 day)
overnight (< 1 day)
bulk (> 3 days)

update time, id, "created", type, expected date

update time, id, "shipped", expected date

update time, id, "location", location

update time, id, "delivered"

update time, id, "delayed", new expected date

update time, id, "lost"

update time, id, "canceled"

update time, id, "note", note
</pre>

<script>
    async function sendShipment() {
        const input = document.getElementById('shipmentInput').value;
        const responseDiv = document.getElementById('response');

        try {
            const response = await fetch('http://127.0.0.1:8080/update', {
                method: 'POST',
                headers: {
                    'Content-Type': 'text/plain'
                },
                body: input
            });

            const text = await response.text();
            responseDiv.textContent = `Status: ${response.status}\n\n${text}`;
        } catch (err) {
            responseDiv.textContent = `Error: ${err}`;
        }
    }
</script>

</body>
</html>
